{"version":3,"file":"js/208.bc05ef0e.js","mappings":"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","sources":["webpack://employee-vue/./src/views/UpdateEmployee.vue","webpack://employee-vue/./src/views/UpdateEmployee.vue?38b2"],"sourcesContent":["<template>\r\n<div>\r\n  <!-- Navbar -->\r\n  <NavBar />\r\n  <!-- /.navbar -->\r\n\r\n  <!-- SideBar -->\r\n  <SideBar />\r\n  <!-- /.SideBar -->\r\n\r\n  <div class=\"content-wrapper\">\r\n        <!-- Content Header (Page header) -->\r\n        <section class=\"content-header mb-4\" style=\"background: #fff;\">\r\n            <div class=\"container-fluid mx-3\">\r\n                <div class=\"row\">\r\n                <ol class=\"breadcrumb float-sm-right\">\r\n                    <li class=\"breadcrumb-item\"><router-link to=\"/\">Home</router-link></li>\r\n                    <li class=\"breadcrumb-item\"><router-link to=\"/employee\">Employee</router-link></li>\r\n                    <li class=\"breadcrumb-item active\">Update</li>\r\n                </ol>\r\n                </div>\r\n            </div><!-- /.container-fluid -->\r\n        </section>\r\n\r\n      <div class=\"container-fluid mx-3\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-4\">\r\n\r\n                    <div class=\"card\">\r\n                        <div class=\"card-header\">\r\n                            <h3 class=\"card-title\"><strong>Update</strong> Employee</h3>\r\n                        </div>\r\n\r\n                        <Form @submit=\"onSubmit\">\r\n                            <div class=\"card-body\">\r\n                                <div :class=\"`card ${isNotError() ? 'bg-success' : 'bg-danger'}`\">\r\n                                    <span :class=\"`py-2 px-3 ${isNotError() ? 'd-block' : 'd-none'}`\">Looks good!</span>\r\n                                    <ErrorMessage name=\"nik\" class=\"py-2 px-3\" />\r\n                                    <ErrorMessage name=\"fullname\" class=\"py-2 px-3\" />\r\n                                    <ErrorMessage name=\"join_date\" class=\"py-2 px-3\" />\r\n                                    <ErrorMessage name=\"salary\" class=\"py-2 px-3\" />\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <Field name=\"nik\" type=\"text\" class=\"form-control\" id=\"nik\" placeholder=\"NIK\" :rules=\"validateNik\" v-model=\"nik\" disabled />\r\n\r\n                                    <Field name=\"fullname\" type=\"text\" class=\"form-control my-3\" id=\"fullname\" placeholder=\"Fullname\" :rules=\"validateFullname\" v-model=\"fullname\" required />\r\n\r\n                                    <Field name=\"join_date\" type=\"text\" class=\"form-control my-3\" id=\"join_date\" placeholder=\"Join Date\" @focus=\"joinDateFocus\" :max=\"`${y}-${m()}-${d}`\" @blur=\"joinDateBlur\" :rules=\"validateJoinDate\" v-model=\"joinDate\" required />\r\n\r\n                                    <Field name=\"salary\" type=\"text\" class=\"form-control\" id=\"salary\" placeholder=\"Salary\" :rules=\"validateSalary\" v-model=\"salary\" required />\r\n                                </div>\r\n                                <div class=\" d-flex justify-content-end\">\r\n                                    <button type=\"button\" class=\"btn btn-secondary px-3 py-1 mx-2\" @click=\"cancel\">Cancel</button>\r\n                                    <button type=\"submit\" class=\"btn btn-dark px-4 py-1\">Save</button>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </Form>\r\n                    </div>\r\n                </div>\r\n                <!-- Data view to test -->\r\n                <!-- <div class=\"col-md-8\">\r\n                    <p>{{ currentEmployee }}</p>\r\n                </div> -->\r\n            </div>\r\n        </div>\r\n\r\n  </div>\r\n  <footer class=\"main-footer\" style=\"background: #f4f6f9;\">\r\n    <span>Copyright &copy; 2023</span>\r\n  </footer>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { Form, Field, ErrorMessage } from \"vee-validate\"\r\nimport axios from \"axios\"\r\nimport toastr from \"toastr\"\r\n\r\nimport NavBar from \"@/components/NavBar.vue\"\r\nimport SideBar from \"@/components/SideBar.vue\"\r\n\r\nimport { useEmployeesStore } from \"@/stores/employees\"\r\n\r\nconst store = useEmployeesStore()\r\n\r\nexport default {\r\n    name: \"UpdateEmployee\",\r\n    data() {\r\n        return {\r\n            test: store.employees,\r\n            y: new Date().getFullYear(),\r\n            m() {\r\n                const mon = new Date().getMonth() + 1\r\n                return (mon < 10) ? \"0\" + mon : mon\r\n            },\r\n            d: new Date().getDate(),\r\n            nik: \"\",\r\n            fullname: \"\",\r\n            joinDate: \"\",\r\n            salary: \"\",\r\n            nikClear: true,\r\n            fullnameClear: true,\r\n            joinDateClear: true,\r\n            salaryClear: true,\r\n        }\r\n    },\r\n    components: {\r\n        NavBar,\r\n        SideBar,\r\n        Form,\r\n        Field,\r\n        ErrorMessage,\r\n    },\r\n    methods: {\r\n        joinDateFocus(e) {\r\n            e.target.type = \"date\"\r\n        },\r\n        joinDateBlur(e) {\r\n            if (e.target.value === \"\") e.target.type = \"text\"\r\n        },\r\n        async onSubmit(val) {\r\n            await axios.put(`https://63929998b750c8d178e16014.mockapi.io/api/employee/${this.$route.params.id}`, {\r\n                id: val.nik,\r\n                nik: this.$route.params.id,\r\n                fullname: val.fullname,\r\n                join_date: val.join_date,\r\n                salary: val.salary\r\n            }).then(() => {\r\n                store.employees = store.employees.map(e => {\r\n                    if (e.id === val.nik) {\r\n                        return {\r\n                            id: val.nik,\r\n                            nik: this.$route.params.id,\r\n                            fullname: val.fullname,\r\n                            join_date: val.join_date,\r\n                            salary: val.salary,\r\n                        }\r\n                    } else {\r\n                        return e\r\n                    }\r\n                })\r\n                toastr.success(`Employee ${val.nik} has been updated.`)\r\n                this.$router.push(\"/employee\")\r\n            })\r\n        },\r\n        cancel() {\r\n            this.$router.push('/employee')\r\n        },\r\n        isNotError() {\r\n            return this.nikClear && this.fullnameClear && this.joinDateClear && this.salaryClear\r\n        },\r\n        validateNik() {\r\n            // if (!val) {\r\n            //     this.nikClear = false\r\n            //     return \"- NIK is required\"\r\n            // }\r\n\r\n            // const regex = /^[0-9]{16}$/g\r\n            // if (!regex.test(parseInt(val))) {\r\n            //     this.nikClear = false\r\n            //     return \"- NIK must be a 16-digit number\"\r\n            // }\r\n\r\n            this.nikClear = true\r\n            return true\r\n        },\r\n        validateFullname(val) {\r\n            if (!val) {\r\n                this.fullnameClear = false\r\n                return \"- Fullname is required\"\r\n            }\r\n\r\n            const regex = /^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]{1,50}$/u\r\n            if (!regex.test(parseInt(val))) {\r\n                this.fullnameClear = false\r\n                return \"- Fullname must be valid\"\r\n            }\r\n\r\n            if (val.length > 50) {\r\n                this.fullnameClear = false\r\n                return \"- Fullname must be 50 characters or less\"\r\n            }\r\n\r\n            this.fullnameClear = true\r\n            return true\r\n        },\r\n        validateJoinDate(val) {\r\n            if (!val) {\r\n                this.joinDateClear = false\r\n                return \"- Join Date is required\"\r\n            }\r\n\r\n            this.joinDateClear = true\r\n            return true\r\n        },\r\n        validateSalary(val) {\r\n            if (!val) {\r\n                this.salaryClear = false\r\n                return \"- Salary is required\"\r\n            }\r\n\r\n            if (parseInt(val) < 3000000 || parseInt(val) > 30000000) {\r\n                this.salaryClear = false\r\n                return \"- Salary must be between 3.000.000 to 30.000.000\"\r\n            }\r\n\r\n            this.salaryClear = true\r\n            return true\r\n        }\r\n    },\r\n    async created() {\r\n        if (store.employees.length < 1) { // prevent new fetching when store is not empty\r\n            await axios.get(\r\n                `https://63929998b750c8d178e16014.mockapi.io/api/employee/${this.$route.params.id}`,\r\n                { headers: { \"Accept\": \"application/json\" } }\r\n            )\r\n            .then(res => {\r\n                this.nik = res.data.id\r\n                this.fullname = res.data.fullname\r\n                this.joinDate = res.data.join_date\r\n                this.salary = res.data.salary\r\n            })\r\n        } else {\r\n            const currentEmployee = store.employees.filter(e => parseInt(e.nik) === parseInt(this.$route.params.id))[0]\r\n            this.nik = currentEmployee.id\r\n            this.fullname = currentEmployee.fullname\r\n            this.joinDate = currentEmployee.join_date\r\n            this.salary = currentEmployee.salary\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n  ","import { render } from \"./UpdateEmployee.vue?vue&type=template&id=e18a31aa\"\nimport script from \"./UpdateEmployee.vue?vue&type=script&lang=js\"\nexport * from \"./UpdateEmployee.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\sites\\\\employee-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","type","_createElementBlock","_createVNode","_component_NavBar","_component_SideBar","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_component_router_link","to","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_component_Form","onSubmit","$options","_hoisted_14","_component_ErrorMessage","name","_hoisted_15","_component_Field","id","placeholder","rules","$data","disabled","required","onFocus","max","onBlur","_hoisted_16","onClick","_hoisted_17","_hoisted_18","store","useEmployeesStore","data","test","employees","y","Date","getFullYear","m","mon","getMonth","d","getDate","nik","fullname","joinDate","salary","nikClear","fullnameClear","joinDateClear","salaryClear","components","NavBar","SideBar","Form","Field","ErrorMessage","methods","joinDateFocus","e","target","joinDateBlur","value","async","val","axios","this","$route","params","join_date","then","map","toastr","$router","push","cancel","isNotError","validateNik","validateFullname","regex","parseInt","length","validateJoinDate","validateSalary","headers","res","currentEmployee","filter","__exports__","render"],"sourceRoot":""}