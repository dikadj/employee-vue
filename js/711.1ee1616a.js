"use strict";(self["webpackChunkemployee_vue"]=self["webpackChunkemployee_vue"]||[]).push([[711],{380:function(e,a,l){l.r(a),l.d(a,{default:function(){return $}});var t=l(3396),r=l(7139);const s={class:"content-wrapper"},n={class:"content-header mb-4",style:{background:"#fff"}},i={class:"container-fluid mx-3"},o={class:"row"},u={class:"breadcrumb float-sm-right"},d={class:"breadcrumb-item"},c={class:"breadcrumb-item"},m=(0,t._)("li",{class:"breadcrumb-item active"},"Add",-1),p={class:"container-fluid mx-3"},y={class:"row"},f={class:"col-md-4"},h={class:"card"},_=(0,t._)("div",{class:"card-header"},[(0,t._)("h3",{class:"card-title"},[(0,t._)("strong",null,"Add"),(0,t.Uk)(" Employee")])],-1),b={class:"card-body"},k={class:"form-group"},v={class:"d-flex justify-content-end"},C=(0,t._)("button",{type:"submit",class:"btn btn-dark px-4 py-1"},"Save",-1),g=(0,t._)("footer",{class:"main-footer",style:{background:"#f4f6f9"}},[(0,t._)("span",null,"Copyright © 2023")],-1);function x(e,a,l,x,D,j){const F=(0,t.up)("NavBar"),w=(0,t.up)("SideBar"),W=(0,t.up)("router-link"),N=(0,t.up)("ErrorMessage"),S=(0,t.up)("Field"),I=(0,t.up)("Form");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(F),(0,t.Wm)(w),(0,t._)("div",s,[(0,t._)("section",n,[(0,t._)("div",i,[(0,t._)("div",o,[(0,t._)("ol",u,[(0,t._)("li",d,[(0,t.Wm)(W,{to:j.linkTo("/")},{default:(0,t.w5)((()=>[(0,t.Uk)("Home")])),_:1},8,["to"])]),(0,t._)("li",c,[(0,t.Wm)(W,{to:j.linkTo("/employee")},{default:(0,t.w5)((()=>[(0,t.Uk)("Employee")])),_:1},8,["to"])]),m])])])]),(0,t._)("div",p,[(0,t._)("div",y,[(0,t._)("div",f,[(0,t._)("div",h,[_,(0,t.Wm)(I,{onSubmit:j.onSubmit},{default:(0,t.w5)((()=>[(0,t._)("div",b,[(0,t._)("div",{class:(0,r.C_)("card "+(j.isNotError()?"bg-success":"bg-danger"))},[(0,t._)("span",{class:(0,r.C_)("py-2 px-3 "+(j.isNotError()?"d-block":"d-none"))},"Looks good!",2),(0,t.Wm)(N,{name:"nik",class:"py-2 px-3"}),(0,t.Wm)(N,{name:"fullname",class:"py-2 px-3"}),(0,t.Wm)(N,{name:"join_date",class:"py-2 px-3"}),(0,t.Wm)(N,{name:"salary",class:"py-2 px-3"})],2),(0,t._)("div",k,[(0,t.Wm)(S,{name:"nik",type:"text",class:"form-control",id:"nik",placeholder:"NIK",rules:j.validateNik,required:""},null,8,["rules"]),(0,t.Wm)(S,{name:"fullname",type:"text",class:"form-control my-3",id:"fullname",placeholder:"Fullname",rules:j.validateFullname,required:""},null,8,["rules"]),(0,t.Wm)(S,{name:"join_date",type:"text",class:"form-control my-3",id:"join_date",placeholder:"Join Date",onFocus:j.joinDateFocus,max:`${D.y}-${D.m()}-${D.d}`,onBlur:j.joinDateBlur,rules:j.validateJoinDate,required:""},null,8,["onFocus","max","onBlur","rules"]),(0,t.Wm)(S,{name:"salary",type:"text",class:"form-control",id:"salary",placeholder:"Salary",rules:j.validateSalary,required:""},null,8,["rules"])]),(0,t._)("div",v,[(0,t._)("button",{type:"button",class:"btn btn-secondary px-3 py-1 mx-2",onClick:a[0]||(a[0]=(...e)=>j.cancel&&j.cancel(...e))},"Cancel"),C])])])),_:1},8,["onSubmit"])])])])])]),g])}l(7658);var D=l(5708),j=l(5939),F=l(373),w=l.n(F),W=l(9436),N=l(7049),S=l(9001);const I=(0,S.r)();var B={name:"AddEmployee",data(){return{test:I.employees,y:(new Date).getFullYear(),m(){const e=(new Date).getMonth()+1;return e<10?"0"+e:e},d:(new Date).getDate(),nikClear:!0,fullnameClear:!0,joinDateClear:!0,salaryClear:!0}},components:{NavBar:W.Z,SideBar:N.Z,Form:D.l0,Field:D.gN,ErrorMessage:D.Bc},methods:{linkTo(e){return"/employee-vue"+e},joinDateFocus(e){e.target.type="date"},joinDateBlur(e){""===e.target.value&&(e.target.type="text")},async onSubmit(e){await j.Z.post("https://63929998b750c8d178e16014.mockapi.io/api/employee",{id:e.nik,nik:e.nik,fullname:e.fullname,join_date:e.join_date,salary:e.salary}).then((a=>{I.employees=[...I.employees,{id:e.nik,nik:a.data.nik,fullname:a.data.fullname,join_date:a.data.join_date,salary:a.data.salary}],w().success(`Employee ${a.data.nik} has been successfully added.`),this.$router.push("/employee"),console.log(a.data)}))},cancel(){this.$router.push("/employee")},isNotError(){return this.nikClear&&this.fullnameClear&&this.joinDateClear&&this.salaryClear},validateNik(e){if(!e)return this.nikClear=!1,"- NIK is required";const a=/^[0-9]{16}$/g;return a.test(parseInt(e))?I.employees.map((e=>parseInt(e.id))).includes(parseInt(e))?(this.nikClear=!1,"- This NIK is already taken"):(this.nikClear=!0,!0):(this.nikClear=!1,"- NIK must be a 16-digit number")},validateFullname(e){if(!e)return this.fullnameClear=!1,"- Fullname is required";const a=/^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]{1,50}$/u;return a.test(parseInt(e))?e.length>50?(this.fullnameClear=!1,"- Fullname must be 50 characters or less"):(this.fullnameClear=!0,!0):(this.fullnameClear=!1,"- Fullname must be valid")},validateJoinDate(e){return e?(this.joinDateClear=!0,!0):(this.joinDateClear=!1,"- Join Date is required")},validateSalary(e){return e?parseInt(e)<=3e6||parseInt(e)>=3e7?(this.salaryClear=!1,"- Salary must be between 3.000.000 to 30.000.000"):(this.salaryClear=!0,!0):(this.salaryClear=!1,"- Salary is required")}},created(){}},E=l(89);const q=(0,E.Z)(B,[["render",x]]);var $=q}}]);
//# sourceMappingURL=711.1ee1616a.js.map