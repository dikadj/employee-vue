"use strict";(self["webpackChunkemployee_vue"]=self["webpackChunkemployee_vue"]||[]).push([[208],{1208:function(e,a,l){l.r(a),l.d(a,{default:function(){return N}});var t=l(3396),s=l(7139);const r={class:"content-wrapper"},n={class:"content-header mb-4",style:{background:"#fff"}},i={class:"container-fluid mx-3"},o={class:"row"},u={class:"breadcrumb float-sm-right"},d={class:"breadcrumb-item"},m={class:"breadcrumb-item"},c=(0,t._)("li",{class:"breadcrumb-item active"},"Update",-1),p={class:"container-fluid mx-3"},y={class:"row"},h={class:"col-md-4"},f={class:"card"},_=(0,t._)("div",{class:"card-header"},[(0,t._)("h3",{class:"card-title"},[(0,t._)("strong",null,"Update"),(0,t.Uk)(" Employee")])],-1),b={class:"card-body"},k={class:"form-group"},v={class:"d-flex justify-content-end"},C=(0,t._)("button",{type:"submit",class:"btn btn-dark px-4 py-1"},"Save",-1),j=(0,t._)("footer",{class:"main-footer",style:{background:"#f4f6f9"}},[(0,t._)("span",null,"Copyright © 2023")],-1);function g(e,a,l,g,D,x){const w=(0,t.up)("NavBar"),F=(0,t.up)("SideBar"),$=(0,t.up)("router-link"),W=(0,t.up)("ErrorMessage"),S=(0,t.up)("Field"),V=(0,t.up)("Form");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(w),(0,t.Wm)(F),(0,t._)("div",r,[(0,t._)("section",n,[(0,t._)("div",i,[(0,t._)("div",o,[(0,t._)("ol",u,[(0,t._)("li",d,[(0,t.Wm)($,{to:"/"},{default:(0,t.w5)((()=>[(0,t.Uk)("Home")])),_:1})]),(0,t._)("li",m,[(0,t.Wm)($,{to:"/employee"},{default:(0,t.w5)((()=>[(0,t.Uk)("Employee")])),_:1})]),c])])])]),(0,t._)("div",p,[(0,t._)("div",y,[(0,t._)("div",h,[(0,t._)("div",f,[_,(0,t.Wm)(V,{onSubmit:x.onSubmit},{default:(0,t.w5)((()=>[(0,t._)("div",b,[(0,t._)("div",{class:(0,s.C_)("card "+(x.isNotError()?"bg-success":"bg-danger"))},[(0,t._)("span",{class:(0,s.C_)("py-2 px-3 "+(x.isNotError()?"d-block":"d-none"))},"Looks good!",2),(0,t.Wm)(W,{name:"nik",class:"py-2 px-3"}),(0,t.Wm)(W,{name:"fullname",class:"py-2 px-3"}),(0,t.Wm)(W,{name:"join_date",class:"py-2 px-3"}),(0,t.Wm)(W,{name:"salary",class:"py-2 px-3"})],2),(0,t._)("div",k,[(0,t.Wm)(S,{name:"nik",type:"text",class:"form-control",id:"nik",placeholder:"NIK",rules:x.validateNik,modelValue:D.nik,"onUpdate:modelValue":a[0]||(a[0]=e=>D.nik=e),disabled:""},null,8,["rules","modelValue"]),(0,t.Wm)(S,{name:"fullname",type:"text",class:"form-control my-3",id:"fullname",placeholder:"Fullname",rules:x.validateFullname,modelValue:D.fullname,"onUpdate:modelValue":a[1]||(a[1]=e=>D.fullname=e),required:""},null,8,["rules","modelValue"]),(0,t.Wm)(S,{name:"join_date",type:"text",class:"form-control my-3",id:"join_date",placeholder:"Join Date",onFocus:x.joinDateFocus,max:`${D.y}-${D.m()}-${D.d}`,onBlur:x.joinDateBlur,rules:x.validateJoinDate,modelValue:D.joinDate,"onUpdate:modelValue":a[2]||(a[2]=e=>D.joinDate=e),required:""},null,8,["onFocus","max","onBlur","rules","modelValue"]),(0,t.Wm)(S,{name:"salary",type:"text",class:"form-control",id:"salary",placeholder:"Salary",rules:x.validateSalary,modelValue:D.salary,"onUpdate:modelValue":a[3]||(a[3]=e=>D.salary=e),required:""},null,8,["rules","modelValue"])]),(0,t._)("div",v,[(0,t._)("button",{type:"button",class:"btn btn-secondary px-3 py-1 mx-2",onClick:a[4]||(a[4]=(...e)=>x.cancel&&x.cancel(...e))},"Cancel"),C])])])),_:1},8,["onSubmit"])])])])])]),j])}l(7658);var D=l(5708),x=l(5939),w=l(373),F=l.n(w),$=l(9436),W=l(474),S=l(9001);const V=(0,S.r)();var U={name:"UpdateEmployee",data(){return{test:V.employees,y:(new Date).getFullYear(),m(){const e=(new Date).getMonth()+1;return e<10?"0"+e:e},d:(new Date).getDate(),nik:"",fullname:"",joinDate:"",salary:"",nikClear:!0,fullnameClear:!0,joinDateClear:!0,salaryClear:!0}},components:{NavBar:$.Z,SideBar:W.Z,Form:D.l0,Field:D.gN,ErrorMessage:D.Bc},methods:{joinDateFocus(e){e.target.type="date"},joinDateBlur(e){""===e.target.value&&(e.target.type="text")},async onSubmit(e){await x.Z.put(`https://63929998b750c8d178e16014.mockapi.io/api/employee/${this.$route.params.id}`,{id:e.nik,nik:this.$route.params.id,fullname:e.fullname,join_date:e.join_date,salary:e.salary}).then((()=>{V.employees=V.employees.map((a=>a.id===e.nik?{id:e.nik,nik:this.$route.params.id,fullname:e.fullname,join_date:e.join_date,salary:e.salary}:a)),F().success(`Employee ${e.nik} has been updated.`),this.$router.push("/employee")}))},cancel(){this.$router.push("/employee")},isNotError(){return this.nikClear&&this.fullnameClear&&this.joinDateClear&&this.salaryClear},validateNik(){return this.nikClear=!0,!0},validateFullname(e){if(!e)return this.fullnameClear=!1,"- Fullname is required";const a=/^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]{1,50}$/u;return a.test(parseInt(e))?e.length>50?(this.fullnameClear=!1,"- Fullname must be 50 characters or less"):(this.fullnameClear=!0,!0):(this.fullnameClear=!1,"- Fullname must be valid")},validateJoinDate(e){return e?(this.joinDateClear=!0,!0):(this.joinDateClear=!1,"- Join Date is required")},validateSalary(e){return e?parseInt(e)<3e6||parseInt(e)>3e7?(this.salaryClear=!1,"- Salary must be between 3.000.000 to 30.000.000"):(this.salaryClear=!0,!0):(this.salaryClear=!1,"- Salary is required")}},async created(){if(V.employees.length<1)await x.Z.get(`https://63929998b750c8d178e16014.mockapi.io/api/employee/${this.$route.params.id}`,{headers:{Accept:"application/json"}}).then((e=>{this.nik=e.data.id,this.fullname=e.data.fullname,this.joinDate=e.data.join_date,this.salary=e.data.salary}));else{const e=V.employees.filter((e=>parseInt(e.nik)===parseInt(this.$route.params.id)))[0];this.nik=e.id,this.fullname=e.fullname,this.joinDate=e.join_date,this.salary=e.salary}}},B=l(89);const E=(0,B.Z)(U,[["render",g]]);var N=E}}]);
//# sourceMappingURL=208.bc05ef0e.js.map