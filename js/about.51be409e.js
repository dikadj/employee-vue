"use strict";(self["webpackChunkemployee_vue"]=self["webpackChunkemployee_vue"]||[]).push([[443],{3103:function(e,t,l){l.r(t),l.d(t,{default:function(){return Q}});var s=l(3396),a=l(7139);const n={class:"wrapper"},o={class:"content-wrapper"},r={class:"content-header mb-4",style:{background:"#fff"}},i={class:"container-fluid mx-3"},u={class:"row"},m={class:"breadcrumb float-sm-right"},p={class:"breadcrumb-item"},c=(0,s._)("li",{class:"breadcrumb-item active"},"Employee",-1),d={class:"content"},y={class:"card mx-3"},g={class:"card-header"},h={class:"d-flex justify-content-between align-items-center"},_=(0,s._)("h3",{class:"card-title align-middle"},[(0,s._)("strong",null,"List"),(0,s.Uk)(" Employee")],-1),f=(0,s._)("strong",null,"ADD",-1),b={class:"card-body"},k={class:"row"},P={class:"d-flex flex-column"},w={class:"d-flex flex-column mx-3"},v=(0,s._)("button",{type:"submit",class:"btn btn-dark btn-sm px-3"},[(0,s._)("strong",null,"SEARCH")],-1),x={class:"card-body table-responsive p-0"},S={class:"table text-nowrap"},E=(0,s._)("thead",{class:"text-center"},[(0,s._)("tr",null,[(0,s._)("th",null,"NIK"),(0,s._)("th",null,"Fullname"),(0,s._)("th",null,"Join Date"),(0,s._)("th",null,"Salary"),(0,s._)("th",null,"Action")])],-1),I={class:"text-left"},D={class:"text-left"},T=(0,s._)("span",null,"Rp.",-1),B={class:"d-flex justify-content-end pr-0"},C=(0,s._)("strong",null,"UPDATE",-1),F=(0,s._)("button",{type:"submit",class:"btn btn-danger btn-sm px-3"},[(0,s._)("strong",null,"DELETE")],-1),W=(0,s._)("hr",{class:"my-0"},null,-1),M={class:"card-footer",style:{background:"#fff"}},N={class:"d-flex justify-content-between my-2"},R=(0,s._)("strong",null,"PREV",-1),U=[R],V=(0,s._)("strong",null,"NEXT",-1),Y=[V],z=(0,s._)("footer",{class:"main-footer",style:{background:"#f4f6f9"}},[(0,s._)("span",null,"Copyright Â© 2023")],-1);function $(e,t,l,R,V,$){const j=(0,s.up)("NavBar"),A=(0,s.up)("SideBar"),Z=(0,s.up)("router-link"),L=(0,s.up)("Field"),H=(0,s.up)("ErrorMessage"),K=(0,s.up)("Form");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(j),(0,s.Wm)(A),(0,s._)("div",o,[(0,s._)("section",r,[(0,s._)("div",i,[(0,s._)("div",u,[(0,s._)("ol",m,[(0,s._)("li",p,[(0,s.Wm)(Z,{to:$.linkTo("/")},{default:(0,s.w5)((()=>[(0,s.Uk)("Home")])),_:1},8,["to"])]),c])])])]),(0,s._)("section",d,[(0,s._)("div",y,[(0,s._)("div",g,[(0,s._)("div",h,[_,(0,s.Wm)(Z,{to:$.linkTo("/employee/add"),class:"btn btn-dark btn-sm px-4"},{default:(0,s.w5)((()=>[f])),_:1},8,["to"])])]),(0,s._)("div",b,[(0,s._)("div",k,[(0,s.Wm)(K,{class:"form-group d-flex col-6",onSubmit:$.searchEmployees},{default:(0,s.w5)((()=>[(0,s._)("div",P,[(0,s.Wm)(L,{name:"nik_input",type:"text",id:"nik_input",class:"form-control",placeholder:"NIK",modelValue:V.nikSearchInput,"onUpdate:modelValue":t[0]||(t[0]=e=>V.nikSearchInput=e),rules:$.validateNik},null,8,["modelValue","rules"]),(0,s.Wm)(H,{name:"nik_input",class:"small text-danger px-2"})]),(0,s._)("div",w,[(0,s.Wm)(L,{name:"fullname_input",type:"text",id:"fullname_input",class:"form-control",placeholder:"Fullname",modelValue:V.fullnameSearchInput,"onUpdate:modelValue":t[1]||(t[1]=e=>V.fullnameSearchInput=e),rules:$.validateFullname},null,8,["modelValue","rules"]),(0,s.Wm)(H,{name:"fullname_input",class:"small text-danger px-2"})]),v])),_:1},8,["onSubmit"])]),(0,s._)("div",x,[(0,s._)("table",S,[E,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(V.employeesByPage,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.nik},[(0,s._)("td",null,(0,a.zw)(e.id),1),(0,s._)("td",null,(0,a.zw)(e.fullname),1),(0,s._)("td",I,(0,a.zw)($.formatDdMmYyyy(e.join_date))+" ("+(0,a.zw)($.howManyYears(e.join_date))+" Years)",1),(0,s._)("td",D,[T,(0,s.Uk)(),(0,s._)("span",null,(0,a.zw)($.rpSalary(e.salary)),1)]),(0,s._)("td",B,[(0,s.Wm)(Z,{to:$.linkTo(`/employee/update/${e.nik}`),class:"btn btn-primary btn-sm px-3 mx-2"},{default:(0,s.w5)((()=>[C])),_:2},1032,["to"]),(0,s.Wm)(K,{onSubmit:()=>{$.deleteEmployee(e.nik,e.id)}},{default:(0,s.w5)((()=>[F])),_:2},1032,["onSubmit"])])])))),128))])]),W])]),(0,s._)("div",M,[(0,s._)("div",N,[(0,s._)("div",null,[(0,s._)("span",null,[(0,s.Uk)("Page "),(0,s._)("strong",null,(0,a.zw)(V.currentPage),1),(0,s.Uk)(" of "+(0,a.zw)(V.totalPages),1)])]),(0,s._)("div",null,[(0,s._)("button",{type:"button",class:(0,a.C_)("btn btn-dark btn-sm px-4 mx-2 "+(1===V.currentPage?"disabled":"")),onClick:t[2]||(t[2]=(...e)=>$.prevPage&&$.prevPage(...e))},U,2),(0,s._)("button",{type:"button",class:(0,a.C_)("btn btn-dark btn-sm px-4 "+(V.currentPage===V.totalPages||1===V.totalPages?"disabled":"")),onClick:t[3]||(t[3]=(...e)=>$.nextPage&&$.nextPage(...e))},Y,2)])])])])])]),z])}l(7658);var j=l(5939),A=l(5708),Z=l(373),L=l.n(Z),H=l(9436),K=l(7049),J=l(9001);const X=(0,J.r)();var q={name:"EmployeeView",components:{NavBar:H.Z,SideBar:K.Z,Form:A.l0,Field:A.gN,ErrorMessage:A.Bc},data(){return{employeesReset:X.employees,employees:[],employeesByPage:[],nikSearchInput:"",fullnameSearchInput:"",currentPage:1,totalPages:0}},methods:{linkTo(e){return"/employee-vue"+e},goToPage(e,t){this.currentPage=e,this.setEmployeesByPage(e,t),this.setTotalPages(t)},searchEmployees(){this.employees=this.employeesReset;const e=this.employees.filter((e=>e.id.toString().includes(this.nikSearchInput))).filter((e=>e.fullname.toString().toLowerCase().includes(this.fullnameSearchInput.toLowerCase())));this.employees=e,this.goToPage(1,e)},prevPage(){this.goToPage(this.currentPage>1?this.currentPage-1:this.currentPage,this.employees)},nextPage(){this.goToPage(this.currentPage<this.totalPages?this.currentPage+1:this.currentPage,this.employees)},setTotalPages(e){this.totalPages=e.length%3===0?e.length/3:(e.length-e.length%3)/3+1},setEmployeesByPage(e,t){let l=[];const s=3*(e-1),a=s+3<=t.length?s+3:t.length;for(let n=s;n<a;n++)l.push(t[n]);this.employeesByPage=l},validateNik(e){return!(e.length>16)||"Must be 16 digits or less"},validateFullname(e){return!(e.length>50)||"Must be 50 digits or less"},howManyYears(e){return new Date(Date.now()-Date.parse(e)).getUTCFullYear()-1970},formatDdMmYyyy(e){const t=e=>e<10?"0"+e:e,l=new Date(e),s=l.getFullYear(),a=t(l.getMonth()+1),n=t(l.getDate());return`${n}/${a}/${s}`},rpSalary(e){return new Intl.NumberFormat("id-ID",{maximumSignificantDigits:3}).format(e)},async deleteEmployee(e,t){confirm(`Are you sure you want to delete employee ${t}?`)&&await j.Z["delete"](`https://63929998b750c8d178e16014.mockapi.io/api/employee/${e}`).then((()=>{this.employeesReset=this.employeesReset.filter((t=>parseInt(t.nik)!==parseInt(e))),this.employees=this.employees.filter((t=>parseInt(t.nik)!==parseInt(e))),X.employees=X.employees.filter((t=>parseInt(t.nik)!==parseInt(e))),this.setEmployeesByPage(this.currentPage,X.employees.filter((t=>parseInt(t.nik)!==parseInt(e)))),L().success(`Employee ${t} has been successfully deleted`)}))}},async created(){X.employees.length<1?await j.Z.get("https://63929998b750c8d178e16014.mockapi.io/api/employee",{headers:{Accept:"application/json"}}).then((e=>{this.employeesReset=e.data,X.employees=e.data,this.employees=X.employees})):(this.employeesReset=X.employees,this.employees=X.employees),this.goToPage(this.currentPage,this.employees)}},G=l(89);const O=(0,G.Z)(q,[["render",$]]);var Q=O}}]);
//# sourceMappingURL=about.51be409e.js.map